<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini AI Chatbot - Stunning UI</title>
    
    <!-- New Stunning CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/design-new.css') }}">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect fill='%230ea5e9' width='100' height='100' rx='20'/><text y='65' font-size='70' font-weight='bold' fill='white' text-anchor='middle' x='50'>G</text></svg>">
</head>
<body>
    <div id="app" class="app-container">
        <!-- ============================================
             HEADER
             ============================================ -->
        <header class="header">
            <div class="header-left">
                <div class="logo-icon">G</div>
                <h1 class="chat-title" id="chat-title">New Chat</h1>
            </div>
            
            <div class="header-right">
                <div class="connection-indicator" id="connection-indicator" title="Disconnected"></div>
                
                <button class="header-button" id="theme-toggle" title="Toggle theme">
                    <svg id="theme-icon-sun" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                    <svg id="theme-icon-moon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: none;">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                </button>
                
                <button class="header-button" id="settings-toggle" title="Settings">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3"></circle>
                        <path d="M12 1v6m0 6v6M4.22 4.22l4.24 4.24m5.08 5.08l4.24 4.24M1 12h6m6 0h6M4.22 19.78l4.24-4.24m5.08-5.08l4.24-4.24"></path>
                    </svg>
                </button>
            </div>
        </header>
        
        <!-- ============================================
             SIDEBAR
             ============================================ -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-section">
                <button class="action-button" id="new-chat" style="width: 100%; margin-bottom: var(--spacing-md);">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"/>
                    </svg>
                </button>
                
                <div style="position: relative;">
                    <input 
                        type="text" 
                        class="message-input" 
                        placeholder="Search conversations..."
                        id="search-conversations"
                        style="padding: var(--spacing-sm) var(--spacing-md); border: 1px solid var(--card-border); border-radius: var(--radius-md); background: rgba(226, 232, 240, 0.05); margin-bottom: var(--spacing-md);"
                    >
                </div>
            </div>
            
            <div class="sidebar-section">
                <div class="sidebar-title">Recent</div>
                <div id="conversations-list">
                    <!-- Populated by JS -->
                </div>
            </div>
        </aside>
        
        <!-- ============================================
             CHAT CONTAINER
             ============================================ -->
        <main class="chat-container">
            <!-- Messages -->
            <div class="messages-container" id="messages-container">
                <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; gap: var(--spacing-lg); color: var(--text-muted);">
                    <div class="logo-icon" style="font-size: 3rem;">G</div>
                    <div style="text-align: center;">
                        <h2 style="font-size: var(--font-size-h2); margin-bottom: var(--spacing-sm); color: var(--text-primary);">Welcome to Gemini AI</h2>
                        <p style="font-size: var(--font-size-body);">Start a conversation to begin</p>
                    </div>
                </div>
            </div>
            
            <!-- Input Area -->
            <div class="input-area">
                <div class="input-wrapper">
                    <textarea 
                        id="message-input" 
                        class="message-input"
                        placeholder="Ask me anything... (Ctrl+Enter to send)"
                        rows="1"
                    ></textarea>
                    <div class="input-actions">
                        <!-- File Upload -->
                        <button class="action-button" id="upload-btn" title="Attach file">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="17 8 12 3 7 8"></polyline>
                                <line x1="12" y1="3" x2="12" y2="15"></line>
                            </svg>
                        </button>
                        <input type="file" id="file-input" style="display: none;" accept=".pdf,.txt,.doc,.docx,.json,.csv">
                        
                        <!-- Voice Input -->
                        <button class="action-button voice-btn" id="voice-btn" title="Voice message">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"></path>
                                <path d="M17 16.91c-1.48 1.45-3.76 2.36-6 2.36s-4.51-.91-6-2.36m12-1.42c-.61.59-1.38 1.1-2.22 1.44"></path>
                                <path d="M12 20v-2m0-10V5"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                
                <!-- Send Button -->
                <button class="send-btn" id="send-btn" title="Send message (Ctrl+Enter)">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 L4.13399899,1.16426878 C3.34915502,0.9 2.40734225,1.00636533 1.77946707,1.4776575 C0.994623095,2.10604706 0.837654326,3.0486314 1.15159189,3.99212575 L3.03521743,10.4331188 C3.03521743,10.5902161 3.19218622,10.7473135 3.50612381,10.7473135 L16.6915026,11.5328004 C16.6915026,11.5328004 17.1624089,11.5328004 17.1624089,12.0040925 C17.1624089,12.4744748 16.6915026,12.4744748 16.6915026,12.4744748 Z"></path>
                    </svg>
                </button>
            </div>
        </main>
    </div>
    
    <!-- Scripts -->
    <script src="/socket.io/socket.io.js"></script>
    <script src="{{ url_for('static', filename='js/utils/api.js') }}"></script>
    <script src="{{ url_for('static', filename='js/utils/streaming.js') }}"></script>
    <script src="{{ url_for('static', filename='js/modules/chat.js') }}"></script>
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
